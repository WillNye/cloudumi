site_configs:
  localhost:
    # Customer controlled
    identity:
      cache_groups:
        enabled: true
      identity_providers:
        okta_test:
          name: okta_test
          idp_type: okta
          org_url: https://dev-876967.okta.com/
          # TODO: No secrets should be in plaintext configuration
          api_token: 00T8xmegwdOppNEJxE33AyGg7EG3nIQAeHcUmmPb2u
    # Customer controlled (Need to instruct them to give us write access
    consoleme_s3_bucket: consolemecache
    jwt_secret: local_secret_insecure
    policies:
      # the roles that SaaS consoleMe should assume to get to the central role in a client's account
      pre_role_arns_to_assume:
        - arn:aws:iam::259868150464:role/ConsoleMeCentralRole
      # The name of the role in each of the customer's accounts (spoke role) that ConsoleMe should assume
      role_name: ConsoleMe
    cache_cloud_accounts:
      from_aws_organizations: true
    cache_accounts_from_aws_organizations:
      - organizations_master_account_id: "259868150464"
    boto3:
      session_kwargs:
        profile_name: personal
    celery:
      cache_resources_from_aws_config_across_accounts:
        enabled: false
    plugins:
      auth: cmsaas_auth
      aws: cmsaas_aws
      group_mapping: cmsaas_group_mapping
      internal_celery_tasks: cmsaas_celery_tasks
      metrics: cmsaas_metrics
      internal_config: cmsaas_config
      internal_routes: cmsaas_internal_routes
      internal_policies: cmsaas_policies
    extends:
      - example_config_header_auth.yaml
    url: http://localhost
    application_admin: ccastrapel@gmail.com
    environment: dev
    development: true
    tornado:
      debug: true
      port: 8081
      xsrf: false
      xsrf_cookie_kwargs:
        samesite: strict
    _development_user_override: ccastrapel@gmail.com # Not allowed in non localhost configuration
    _development_groups_override: # Not allowed in non localhost configuration
      - groupa@example.com
      - groupb@example.com
      - configeditors@example.com
      - consoleme_admins@example.com
      - consoleme_admins
    dynamodb_server: http://localhost:8005 # Not allowed in non localhost configuration
    challenge_url:
      enabled: true
      request_ip_must_match_challenge_creation_ip: false
    auth:
      get_groups_by_header: true
      get_user_by_header: true
      groups_header_name: group_header
      user_header_name: user_header
    cloud_credential_authorization_mapping:
      role_tags:
        enabled: true
        authorized_groups_tags:
          - consoleme-authorized
        authorized_groups_cli_only_tags:
          - consoleme-owner-dl
          - consoleme-authorized-cli-only
    aws:
      issuer: https://localhost
      region: "us-east-1"
    groups:
      can_edit_config:
        - configeditors@example.com
      can_admin_policies:
        - consoleme_admins@example.com
        - ccastrapel@gmail.com
    jwt:
      email_key: email
    support_contact: consoleme-support@example.com
    support_chat_url: https://www.example.com/slack/channel
    documentation_page: https://github.com/Netflix/consoleme/
    logging_levels:
      asyncio: WARNING
      boto3: CRITICAL
      boto: CRITICAL
      botocore: CRITICAL
      elasticsearch.trace: ERROR
      elasticsearch: ERROR
      nose: CRITICAL
      parso.python.diff: WARNING
      s3transfer: CRITICAL
      spectator.HttpClient: WARNING
      spectator.Registry: WARNING
      urllib3: ERROR
